(function(){"use strict";/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */var d=document.querySelectorAll("ul.main-nav");d.forEach(function(e){new MetisMenu(e)});var c=document.getElementById("wrapper"),s=document.getElementById("sidebar-wrapper"),o=document.getElementById("menu-collapse-icon");if(s||c.classList.remove("closed"),s&&!s.getAttribute("data-hidden")){var u=document.getElementById("menu-collapse"),m=[].slice.call(s.querySelectorAll(".collapse-level-1"));m.forEach(function(e){var a=[].slice.call(e.querySelectorAll(".collapse-level-1"));a.forEach(function(l){l&&(l.classList.remove("collapse-level-1"),l.classList.add("collapse-level-2"))})}),u.addEventListener("click",function(e){e.preventDefault(),c.classList.toggle("closed"),o.classList.toggle("icon-toggle-on"),o.classList.toggle("icon-toggle-off");var a=[].slice.call(document.querySelectorAll(".main-nav > li"));a.forEach(function(t){t.classList.remove("open")});var l=document.querySelector(".child-open");l&&l.classList.remove("child-open"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:c.classList.contains("closed")?"closed":"open",bubbles:!0,cancelable:!0}))});var p=c.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),i=window.location.href,n=document.querySelector("ul.main-nav"),v=[].slice.call(document.querySelectorAll("ul.main-nav li.parent > a")),f=[].slice.call(document.querySelectorAll("ul.main-nav li.parent .close"));p.forEach(function(e){if((!e.href.match(/index\.php$/)&&i.indexOf(e.href)===0||e.href.match(/index\.php$/)&&i.match(/index\.php$/))&&(e.setAttribute("aria-current","page"),e.classList.add("mm-active"),!e.parentNode.classList.contains("parent"))){var a=e.closest(".collapse-level-1"),l=e.closest(".collapse-level-2");a&&a.parentNode.classList.add("mm-active"),a&&a.classList.add("mm-show"),l&&l.parentNode.classList.add("mm-active"),l&&l.classList.add("mm-show")}});var r=function(a){var l=a.currentTarget,t=l.parentNode;if(t.tagName.toLowerCase()==="span"&&(t=l.parentNode.parentNode),t.classList.contains("open"))n.classList.remove("child-open"),t.classList.remove("open");else{var g=[].slice.call(t.parentNode.children);g.forEach(function(h){h.classList.remove("open")}),c.classList.remove("closed"),o.classList.contains("icon-toggle-off")&&(o.classList.toggle("icon-toggle-off"),o.classList.toggle("icon-toggle-on")),n.classList.add("child-open"),t.parentNode.classList.contains("main-nav")&&t.classList.add("open")}window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0}))};v.forEach(function(e){e.addEventListener("click",r),e.addEventListener("keyup",r)}),f.forEach(function(e){e.addEventListener("click",function(){var a=[].slice.call(n.querySelectorAll(".open"));a.forEach(function(l){l.classList.remove("open")}),n.classList.remove("child-open")})})}})();
